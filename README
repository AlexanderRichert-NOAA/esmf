
================================================================================
                                   README

                    Earth System Modeling Framework (ESMF)

 Earth System Modeling Framework
 Copyright 2002-2005, University Corporation for Atmospheric Research,
 Massachusetts Institute of Technology, Geophysical Fluid Dynamics
 Laboratory, University of Michigan, National Centers for Environmental
 Prediction, Los Alamos National Laboratory, Argonne National Laboratory,
 NASA Goddard Space Flight Center.
 Licensed under the GPL.

================================================================================

README file for ESMF v2.1.1 release.

The files contained here include the ESMF source code and build system.

More information about the ESMF project can be found at the ESMF web site:
        
        http://www.esmf.ucar.edu

For additional documentation on building and running the ESMF please
see the ESMF User's Guide on the ESMF web site, under the "Downloads &
Documentation" link.

The ESMF library source code is also available for download at:

	http://sourceforge.net/projects/esmf

Follow the directions on that webpage to access the ESMF CVS repository.

================================================================================

Quickstart information for the impatient:

 - Set required environment variable(s) (see next section below).
 - Type 'gmake' (the GNU make program) to build the ESMF library and all
     tests, examples, and demo programs.
 - Type 'gmake check' to run the unit and system tests.
 - Type 'gmake doc' to build the latex documentation (see ESMF web page for
     a list of required macro packages and additional utilities.  The web page
     also contains pre-built pdf and html versions of all documentation.)

Other useful gnumake targets:

 info : print out extensive system configuration information about what
        compilers, libraries, paths, flags, etc are being used

 clean   : remove all files built for this platform/compiler/wordsize.
 clobber : remove all files built for all architectures

 unit_tests       : build and run the unit tests
 build_unit_tests : build only
 run_unit_tests   : run only

 system_tests       : build and run the more comprehensive system tests
 build_system_tests : build only
 run_system_tests   : run only

 examples       : build and run the examples
 build_examples : build only
 run_examples   : run only

 demos       : build and run the more comprehensive demos
 build_demos : build only
 run_demos   : run only

 all_tests       : build and run all available tests and demos
 build_all_tests : build only
 run_all_tests   : run only

Note:

 The normal 'install' target is *NOT CURRENTLY SUPPORTED*.  It will be added 
 in a future release of the ESMF system.

================================================================================

Environment Variables
---------------------

ESMF_DIR

The environment variable ESMF_DIR must be set to the full pathname of the 
top level ESMF directory before building the framework.  This is the only 
environment variable which is required to be set on all platforms under 
all conditions.

bsh/ksh example  :  export ESMF_DIR=/home/joeuser/esmf
csh/tcsh example :  setenv ESMF_DIR /home/joeuser/esmf

ESMF_COMPILER

On any platform which does not come with a single vendor's Fortran compiler
installed (e.g. Linux or Mac OS X) ESMF_COMPILER must be set to select
which Fortran compiler has been installed.  To see valid values for 
ESMF_COMPILER, cd to $ESMF_DIR/build_config and list the directories there.
The first part of each directory name corresponds to the output of 
'uname -s' for this platform.  The second part contains valid values 
for ESMF_COMPILER.

ESMF_COMM

For multiprocessor systems with a vendor-supplied MPI communications library,
that is the default for communications and ESMF_COMM should not be set.  
For other systems, ESMF comes with with a single-processor MPI-bypass 
library which is the default.   To select an MPI implementation (e.g. mpich,
lam) set ESMF_COMM to select which one to use.  Valid values depend on the
platform; see the README in the build_config directory for more details.
(generally, 'mpich' or 'lam' are supported on all platforms, with additional
options on some specific machines.)  If not installed in a system location
also set MPI_HOME to the directory containing the include, lib, and bin dirs.

ESMF_SITE

The esmfcontrib repository contains makefiles which have already been 
customized for certain machines.  If one exists for your site and you wish
to use it, download the corresponding files into the build_contrib directory
and set ESMF_SITE to your location.  See the sourceforge site
http://sourceforge.net/projects/esmfcontrib  for more information.

ESMF_BOPT

To make a debuggable version of the library set ESMF_BOPT to 'g' before
building.  The default is 'O' (capital oh) which builds an optimized library.
If ESMF_BOPT is O, ESMF_OPTLEVEL can also be set to a numeric value 
between 0 and 4 to select a specific optimization level.

ESMF_PREC

If this system supports the building of both 32-bit and 64-bit executables
(pointer wordsize), this variable can be set to select which format to use.
Valid values are '32' or '64'.


There are other environment variables which can be set to customize
the ESMF make process.  The README file in the build_config directory
documents the entire list of environment variables in detail, as does
the ESMF User's Guide.

================================================================================

Directories
-----------

build_config:    Contains makefile fragments that can be customized by the 
                 user for specific platforms, compilers, and sites.

build:           Contains the generic portion of the build that a
                 user would not be expected to modify.

scripts:         Contains scripts for testing and uniprocessor runs, and some
                 templates.

src:             Contains the source code.

In addition, the following directories are created during the building
and testing stages:

lib:             Contains the ESMF libraries.

mod:             Contains the Fortran module files.

quick_start:     Contains skeleton application files to use as a template.

test:            Contains unit and system test executables and output.

examples:	 Contains examples executables and output.

doc:             Contains documentation (if built).


System Information
------------------

Check the "Downloads & Documentation" link on the ESMF web site for a 
current list of supported platforms.  Also list the directories in the
build_config subdirectory to see which platforms and compiler combinations
have makefiles already supplied.


================================================================================
The latest documentation for the project can be found at:
http://www.esmf.ucar.edu -> Downloads & Documentation

The documentation at this site is for the latest release.  To obtain
the documentation that exactly matches this version, follow the
documentation build procedures outlined above.

Please contact esmf_support@ucar.edu with any questions or problems.

================================================================================
 $Id: README,v 1.56 2005/05/04 17:10:45 nscollins Exp $
