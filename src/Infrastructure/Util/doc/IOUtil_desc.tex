% $Id: IOUtil_desc.tex,v 1.1 2009/03/18 23:57:23 w6ws Exp $

The ESMF Fortran I/O utilities provide portable methods to access
capabilities which are often implemented in different
ways in different environments.  Currently, two utility
methods are implemented: {\tt ESMF\_IOUnitGet()}, for unit
number inquiry, and {\tt ESMF\_IOUnitFlush()}, for flushing I/O
buffers.


The {\tt ESMF\_IOUnitGet()} method is used to find an unopened
unit number within the range of unit numbers that ESMF
is allowed to use.  Internally, ESMF primarily uses unit
numbers for log files.  By default the unit numbers range
from {\tt ESMF\_LOG\_FORT\_UNIT\_NUMBER} to {\tt ESMF\_LOG\_UPPER},
which are normally set to 50 and 99 respectively.


When integrating ESMF with applications which use conflicting
unit number ranges, the optional {\tt IOUnitLower}, and
{\tt IOUnitUpper} arguments in the initial {\tt ESMF\_Initialize()} call
may be used to move the ESMF unit numbers to an alternate range.
The return values from {\tt ESMF\_IOUnitGet()} will reflect the
alternate range.


The {\tt ESMF\_IOUnitFlush()} procedure is used to flush the
I/O buffer associated with a specific Fortran unit.  Normally,
buffers are filled and flushed automatically by the Fortran
runtime library.  However in some situations, in particular
in parallel applications, it is useful to force an output
buffer to be explicitly flushed at specific points.  For example,
it may be useful to flush a buffer used for debug output
in conjunction with {\tt ESMF\_VMBarrier()} calls.
