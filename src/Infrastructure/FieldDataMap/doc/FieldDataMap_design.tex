% $Id: FieldDataMap_design.tex,v 1.2 2004/05/11 16:29:44 nscollins Exp $

%\subsection{Design}

The Field DataMap class maintains information about the way an ESMF Array
object maps to the associated Grid in a Field object.  The Array class
maintains the linearization of multidimensional data to memory addresses,
but the Field DataMap class maintains the mapping between rank numbers and
Grid axes, information about vector or tensor interleaving, and the
location of the data relative to the individual grid cells.

The Field DataMap class implements methods for reordering or repacking
memory which can be transparent to the calling code.  None of the
methods in the Field DataMap class change data values; they simply
change the mapping to memory addresses.

In the future it may implement an Iteration class which could simplify
the task of operating on items in the Array when the memory
access pattern is complex (strides, interleaving of fields, etc).

