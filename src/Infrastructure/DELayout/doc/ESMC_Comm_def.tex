% $Id: ESMC_Comm_def.tex,v 1.1 2003/09/19 17:00:02 cdeluca Exp $

\begin{verbatim}
 // class definition type
 class ESMC_Comm : public ESMC_Base {    // inherits from ESMC_Base class

   private:
 //  < insert class members here >  corresponds to type ESMF_Comm members
 //                                 in F90 modules
     int numDEs;          // number of DEs in communication group
     ESMC_DE *DE;         // this DE we're communicating on behalf of
     bool commFinal;      // flag to prevent double finalization via destructor
     int *threadCount;    // count threads in a barrier

     // ESMC-to-MPI type maps
     int ESMC_DatatypeToMPI[ESMC_NUM_DATATYPES];
     int ESMC_OpToMPI[ESMC_OP_TYPES];

     void *ESMC_Request; // linked list of requests
     void *ESMC_Status;  // linked list of statuses

     static pthread_mutex_t initMutex;
     static pthread_cond_t initCV;
     static pthread_mutex_t barrierMutex;
     static pthread_cond_t barrierCV;
     static pthread_cond_t mainProcBarrierCV;
     static int threadCountA;
     static int threadCountB;
\end{verbatim}
