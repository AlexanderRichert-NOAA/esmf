% $Id: Field_usage.tex,v 1.1 2003/05/07 04:34:30 cdeluca Exp $

%\subsection{Design}

% <Describe strategy for overall class design.>


The Field class aggregates two internal subclasses: a GlobalField class
and a LocalField class.  This separation allows the code to clearly
differentiate between functions which operate internal to a single DE
on a local decomposition of data, 
and those which must be aware of the
global state of the Field.  
 
There is a correspondence between the Global Distributed Grid class,
and the Local Distributed Grid class, and Fields.  Each DE contains
the corresponding local decompositions for Distributed Grids and Fields.

The Field class maintains the relationship of
how data maps onto the grid (e.g. one item per cell located at
the cell center, one item per cell located at the NW corner, 
one item per cell vertex, etc).  This means that different Fields
which are on the same underlying Grid but have different
mappings (staggerings) can share the same Grid object without
needing to copy or replicate it multiple times.  Regridding
operations can operate first on the shared Grid, and then
use the staggering information from the Field to compute the
corresponding transformation of the data.

Some methods which have a Field interface will actually be
implemented at the underlying Grid or Array level; they
will be inherited by the Field class.  This allows the user
API (Application Programming Interface) to present functions at
the level which is most consistent to the application without
restricting where inside the ESMF the actual implementation
is done.

