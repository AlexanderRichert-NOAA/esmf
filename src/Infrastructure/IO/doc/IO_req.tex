% $Id: IO_req.tex,v 1.5 2002/05/07 03:18:46 lzaslavsky Exp $

%===============================================================================
% Requirements may be itemized under a main topic:
%===============================================================================
%=============================================================================

The following are requirements for IO operations and are in addition
to the applicable general ESMF requirements (see ESMF General 
Requirements document, section 8.1.3).

\req{General IO Requirements}

\sreq{Establish ESMF Metadata Conventions}

A set of metadata conventions on gridded data on structured and
unstuctured grids, as well as observational data has to be determined
within ESMF. The ESMF metadata conventions will be an extension of the NetCDF 
Climate-Forecast (CF) Metadata Convensions \cite{NetCDF_CF_v1_beta3}.


\begin{reqlist}
{\bf Priority:} 1 \\
{\bf Source:} DAO, NCEP \\
{\bf Status:} Proposed \\
{\bf Verification:} Document inspection \\
\end{reqlist}

\sreq{Provide automatic generation of metadata}

Provide automatic generation of metadata for gridded data on structured and
unstuctured grids, as well as observational data covered by ESMF metadata 
conventions.

A companion metadata file may be either created at the same tile as data file 
created, or extracted from the pre-existing data file.


\begin{reqlist}
{\bf Priority:} 1 \\
{\bf Source:} DAO, NCEP \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test \\
\end{reqlist}




\req{IO Requirements for Supporting Different Data Formats}
%-----------------------------------------------------------------------------

\sreq{Reading and Writing netCDF files}

ESMF has to provide interface and software to read and write netCDF
files for regular gridded data, data on unstructured grids, and observational 
data  covered by ESMF metadata conventions. 

\begin{reqlist}
{\bf Priority:} 1 \\
{\bf Source:} DAO, NCEP \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test. \\
\end{reqlist}

\sreq{Reading and Writing netCDF files using DODS}

ESMF has to provide interface and software to read and write netCDF
files for data covered by ESMF metadata conventions over the Internet, 
using DODS.

\begin{reqlist}
{\bf Priority:} 1 \\
{\bf Source:} DAO \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test. \\
\end{reqlist}

\sreq{Reading and Writing HDF4 files}

ESMF has to provide interfaces and software to read and write HDF4
files for regular gridded data, data on unstructured grids, and observational 
data  covered by ESMF metadata conventions.
 

\begin{reqlist}
{\bf Priority:} 1 \\
{\bf Source:} DAO, NCEP \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test. \\
\end{reqlist}

\sreq{Reading and Writing HDF5 files}

ESMF has to provide interfaces and software to read and write HDF5
files for data for regular gridded data, data on unstructured grids, and 
observational data  covered by ESMF metadata conventions.

\begin{reqlist}
{\bf Priority:} 2 \\
{\bf Source:} DAO \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test. 
\end{reqlist}

\sreq{Reading and Writing HDF-EOS files}

ESMF has to provide interfaces and software to read and write HDF-EOS
files for data for regular gridded data, data on unstructured grids, and 
observational data  covered by ESMF metadata conventions.


\begin{reqlist}
{\bf Priority:} 1 \\
{\bf Source:} DAO, NCEP \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test. \\
\end{reqlist}

\sreq{Reading and Writing GRIB files}

ESMF has to provide interfaces and software to read and write GRIB
files for regular gridded data, data on unstructured grids, and observational 
data  covered by ESMF metadata conventions.

An companion metadata file should be automatically created for any GRIB file  
describing data within the ESMF data model.

\begin{reqlist}
{\bf Priority:} 1 \\
{\bf Source:} NCEP \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test. \\
{\bf Notes:} Although GRIB1 is currently in operational use at NCEP,
it is proposed that ESMF will support GRIB2 format assuming transition
in the next two years.
\end{reqlist}

\sreq{Reading and Writing Native Binary Files accompanied by metadata}

ESMF has to provide interfaces and software to read and write native
binary files for regular gridded data, data on unstructured grids, and 
observational data  covered by ESMF metadata conventions, for each machine 
accompaniied by XML metadata for data covered by ESMF metadata conventions,
assuming that the computer architecture supports the IEEE 754 Floating
Point Standard. 

\begin{reqlist}
{\bf Priority:} 2 \\
{\bf Source:} DAO \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test. \\
{\bf Notes:} XML metadata should be specified. Possibility of BIG
ENDIAN and LITTLE ENDIAN bit ordering should be taken into account.
\end{reqlist}

\req{IO requirements for Unstructured Gridded Data}

\sreq{Reading and Writing HDF-EOS files}

ESMF has to provide interfaces and software to read and write HDF-EOS
files for regular gridded data, data on unstructured grids, and observational 
data  covered by ESMF metadata conventions.

\begin{reqlist}
{\bf Priority:} 1 \\
{\bf Source:} DAO, NCEP required \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test. 
native HDF5 interface. \\
{\bf Notes:}
\end{reqlist}


\sreq{Reading BUFR Files}

ESMF has to provide interfaces and software to read BUFR files for
observational data covered by ESMF metadata convensions.

\begin{reqlist}
{\bf Priority:} 1 \\
{\bf Source:} DAO, NCEP required \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test. \\
{\bf Notes:} Limitations on types of data, etc.
\end{reqlist}


\req{Parallel I/O Requirements}


\sreq{Single-threaded IO of distribuded data}

ESMF should provide single-treaded IO of distributed data when a
single process acquires all the data from other processors and writes
them to the disk or read data from the disk and pass them to other processes. 


\begin{reqlist}
{\bf Priority:} 2 \\
{\bf Source:} DAO \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test.
\end{reqlist}


\sreq{Multi-threaded IO of distribuded data to a multiple files}


ESMF should provide multi-treaded IO of distributed data when each
process reads data from and writes data to an independent file. 

\begin{reqlist}
{\bf Priority:} 2 \\
{\bf Source:} DAO \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test.
\end{reqlist}


\sreq{Multi-threaded IO of distribuded data to a single file}


ESMF should provide multi-treaded IO of distributed data when each
process reads data from the disk and writes data to the disk using the same 
file.  

\begin{reqlist}
{\bf Priority:} 3 \\
{\bf Source:} DAO \\
{\bf Status:} Proposed \\
{\bf Verification:} Unit test.
{\bf Note} A proper synchronization mechanism may be required. The ESMF I/O 
may provide this functionality only when it is enabled by underlying library. 
\end{reqlist}









