% $Id: InternDG_design.tex,v 1.1 2006/03/23 01:29:43 theurich Exp $

%\subsection{Design}

% <Describe strategy for overall class design.>


The DistGrid class is itself internal and aggregates two internal
subclasses: a DistGridLocal class and a DistGridGlobal class.  This
separation allows the code to clearly differentiate between functions which
operate internal to a single DE on a local decomposition of data, and those
which must be aware of the global state of the distribution.

There is a correspondence between the DistGrid class and the PhysGrid
class.  The DistGrid class describes the local extents of data and
its relationship to the global decomposition, while the PhysGrid contains 
the corresponding local data.  

The DistGrid class maintains the relationship of how a DELayout maps onto
a Grid representation and how that Grid is distributed.  DistGrids can
represent the same Grid but have different mappings (staggerings) and can
be aggregated by the same Grid object. The DistGrid class maintains the
mapping between the global Grid and the local data distribution;  it has
methods to aid in the collection and communication of global data.  

Some methods which have a DistGrid interface will actually be
implemented at the underlying DELayout or Array level; they
will be inherited by the DistGrid class.  This allows the user
API (Application Programming Interface) to present functions at
the level which is most consistent to the application without
restricting where inside the ESMF the actual implementation
is done.
